<div class="w-full max-w-3xl mx-auto p-4">
  <h2 class="text-2xl font-bold mb-4">Felhasználó módosítása</h2>

  <!-- Felhasználó kiválasztása -->
  <div class="mb-4">
    <app-user-select
      [(selectedUserId)]="selectedUserId"
      (userSelected)="onUserSelected($event)">
    </app-user-select>
  </div>

  <!-- Form csak ha van selectedUser -->
  <form *ngIf="selectedUser" (ngSubmit)="onSave()" class="space-y-4 border p-4 rounded bg-gray-50">
    <div>
      <label class="block mb-1 font-medium">Username</label>
      <input type="text" [(ngModel)]="selectedUser.username" name="username"
             class="border rounded px-2 py-1 w-full">
    </div>

    <div>
      <label class="block mb-1 font-medium">Email</label>
      <input type="email" [(ngModel)]="selectedUser.email" name="email"
             class="border rounded px-2 py-1 w-full">
    </div>

    <div>
      <label class="block mb-1 font-medium">Password</label>
      <input type="password" [(ngModel)]="selectedUser.password" name="password"
             placeholder="Új jelszó" class="border rounded px-2 py-1 w-full">
    </div>

    <div class="grid grid-cols-3 gap-4">
      <div>
        <label class="block mb-1 font-medium">Age</label>
        <input type="number" [(ngModel)]="selectedUser.age" name="age" class="border rounded px-2 py-1 w-full">
      </div>

      <div>
        <label class="block mb-1 font-medium">Weight</label>
        <input type="number" step="0.01" [(ngModel)]="selectedUser.weight" name="weight" class="border rounded px-2 py-1 w-full">
      </div>

      <div>
        <label class="block mb-1 font-medium">Height</label>
        <input type="number" step="0.01" [(ngModel)]="selectedUser.height" name="height" class="border rounded px-2 py-1 w-full">
      </div>
    </div>

    <div>
      <label class="block mb-1 font-medium">Gender</label>
      <input type="text" [(ngModel)]="selectedUser.gender" name="gender" class="border rounded px-2 py-1 w-full">
    </div>

    <div>
      <label class="block mb-1 font-medium">Goals</label>
      <textarea [(ngModel)]="selectedUser.goals" name="goals" class="border rounded px-2 py-1 w-full"></textarea>
    </div>

    <div>
      <label class="block mb-1 font-medium">Avatar URL</label>
      <input type="text" [(ngModel)]="selectedUser.avatarUrl" name="avatarUrl" class="border rounded px-2 py-1 w-full">
    </div>

    <!-- Role select -->
    <div>
      <label class="block mb-1 font-medium">Role</label>
      <app-role-select [selectedRole]="selectedRole" (roleSelected)="onRoleSelected($event)"></app-role-select>
    </div>

    <!-- Coach select -->
    <div>
      <label class="block mb-1 font-medium">Coach</label>
      <app-coach-select [selectedCoachId]="selectedCoach?.id" (coachSelected)="onCoachSelected($event)"></app-coach-select>
    </div>

    <div class="text-center mt-4">
      <button type="submit" class="bg-blue-600 text-white font-medium py-2 px-4 rounded hover:bg-blue-700">
        Mentés
      </button>
    </div>
  </form>
</div>
