<div class="max-w-3xl mx-auto p-6">
  <h2 class="text-2xl font-semibold mb-4">üèãÔ∏è Program hozz√°rendel√©s</h2>

  <!-- Program hozz√°rendel√©s -->
  <section class="border p-4 rounded shadow-sm mb-6">
    <h3 class="text-lg font-medium mb-3">‚ûï Hozz√°rendel√©s felhaszn√°l√≥hoz</h3>

    <label class="block mb-2 font-medium">Felhaszn√°l√≥ ID</label>
    <input
      type="number"
      [(ngModel)]="userId"
      placeholder="Add meg a user ID-t"
      class="border p-2 rounded w-full mb-3"
    />

    <label class="block mb-2 font-medium">Program kiv√°laszt√°sa</label>
    <select [(ngModel)]="selectedProgramId" class="border p-2 rounded w-full mb-3">
      <option [ngValue]="null">-- V√°lassz egy programot --</option>
      <option *ngFor="let p of programs" [ngValue]="p.programId">{{ p.programName }}</option>
    </select>

    <button
      (click)="assignProgram()"
      class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded"
      [disabled]="!userId || !selectedProgramId || loading"
    >
      {{ loading ? 'Hozz√°rendel√©s folyamatban...' : 'Hozz√°rendel√©s' }}
    </button>

    <p
      *ngIf="message"
      class="mt-3 font-medium"
      [ngClass]="{ 'text-green-600': success, 'text-red-600': !success }"
    >
      {{ message }}
    </p>
  </section>

  <!-- Saj√°t programok -->
  <section class="border p-4 rounded shadow-sm">
    <h3 class="text-lg font-medium mb-3">üìã Saj√°t hozz√°rendelt programok</h3>

    <ul *ngIf="assignedPrograms.length > 0; else noPrograms" class="space-y-2">
      <li *ngFor="let up of assignedPrograms" class="border rounded p-3 shadow-sm">
        <div class="font-semibold">{{ up.programName }}</div>
        <div class="text-sm text-gray-600">{{ up.programDescription }}</div>
        <div class="text-xs text-gray-500">
          √Ållapot: {{ up.status }} |
          Hozz√°rendelve: {{ up.assignedAt | date: 'yyyy.MM.dd HH:mm' }}
        </div>
      </li>
    </ul>

    <ng-template #noPrograms>
      <p class="text-gray-500">Nincs m√©g hozz√°rendelt program.</p>
    </ng-template>
  </section>
</div>
