<div class="max-w-4xl mx-auto p-4">

  <h3 class="text-2xl font-semibold mb-6 text-center">Program hozzárendelés</h3>

  <!-- Reszponzív grid a felhasználó- és programválasztáshoz -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">

    <!-- Felhasználó választó -->
    <div>
      <label class="block mb-1 font-semibold text-gray-700">Felhasználó:</label>
      <select [(ngModel)]="userId"
              class="border border-gray-300 p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-400">
        <option [ngValue]="null">-- Válassz felhasználót --</option>
        <option *ngFor="let user of users" [ngValue]="user.id">
          {{ user.username }}
        </option>
      </select>
    </div>

    <!-- Program választó -->
    <div>
      <app-coach-program-select
        [(selectedProgramId)]="selectedProgramId">
      </app-coach-program-select>
    </div>

  </div>

  <!-- Hozzárendelés gomb -->
  <div class="flex justify-center">
    <button (click)="assignProgram()"
            [disabled]="loading"
            class="bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded shadow-md transition disabled:opacity-60 disabled:cursor-not-allowed">
      Hozzárendelés
    </button>
  </div>

  <!-- Betöltés jelzés -->
  <div *ngIf="loading" class="text-gray-500 mt-3 italic text-center">
    Betöltés...
  </div>

  <!-- Üzenet -->
  <div *ngIf="message"
       [ngClass]="{
         'text-green-600 font-semibold': success,
         'text-red-600 font-semibold': !success
       }"
       class="mt-3 text-center">
    {{ message }}
  </div>

  <hr class="my-6">

  <h3 class="text-xl font-semibold mb-4 text-center">Hozzárendelt programok</h3>

  <!-- Workout Board -->
  <app-coach-workout-board
    [programDropListIds]="programDropListIds">
  </app-coach-workout-board>

  <!-- Program Board -->
  <app-coach-program-board
    [programs]="programs"
    [programDropListIds]="programDropListIds">
  </app-coach-program-board>


  <!-- Üres állapot -->
  <div *ngIf="programs && programs.length === 0"
       class="text-gray-400 italic mt-3 text-center">
    Nincsenek hozzárendelt programok.
  </div>

</div>
