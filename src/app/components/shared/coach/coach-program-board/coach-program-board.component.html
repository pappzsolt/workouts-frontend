<!-- üîÑ Bet√∂lt√©s √°llapot -->
<div *ngIf="loading" class="text-gray-500 p-4 text-center">
  Bet√∂lt√©s...
</div>

<!-- ‚ÑπÔ∏è √úzenet -->
<div *ngIf="message && !loading" class="text-gray-500 p-4 text-center">
  {{ message }}
</div>

<!-- üß© Program oszlopok (Jira-st√≠lus) -->
<div
  *ngIf="!loading && programs?.length"
  class="flex flex-wrap sm:flex-nowrap gap-6 overflow-x-auto pb-6 relative z-0"
>

  <div
    *ngFor="let program of programs"
    class="bg-gray-50 border border-gray-200 p-4 rounded-2xl shadow-md w-full sm:w-72 flex-shrink-0 flex flex-col"
  >
    <!-- Program c√≠m -->
    <h3 class="text-blue-600 font-semibold mb-3 text-center text-lg">
      {{ program.programName }}
    </h3>

    <!-- üß≠ Drop z√≥na -->
    <div
      cdkDropList
      [id]="'program-' + program.programId"
      [cdkDropListData]="program.workouts"
      [cdkDropListConnectedTo]="programDropListIds"
      class="flex-1 min-h-[250px] bg-white rounded-lg border p-3 flex flex-col transition-all duration-200 hover:border-blue-300 relative z-10"
      (cdkDropListDropped)="dropWorkout($event)"
    >
      <!-- Workout elemek -->
      <div
        *ngFor="let workout of program.workouts"
        cdkDrag
        [cdkDragData]="workout"
        class="bg-blue-100 text-blue-800 px-3 py-2 mb-2 rounded-lg shadow-sm cursor-move hover:bg-blue-200 transition-all"
      >
        {{ workout.name }}
      </div>

      <!-- √úres √°llapot -->
      <div
        *ngIf="!program.workouts?.length"
        class="text-gray-400 italic text-sm text-center mt-auto mb-auto select-none"
      >
        Ide h√∫zhatod a workoutokat
      </div>
    </div>
  </div>
</div>

<!-- üö´ Nincs program -->
<div *ngIf="!loading && (!programs || !programs.length)" class="text-gray-400 italic text-center mt-6">
  Nincsenek programok.
</div>
