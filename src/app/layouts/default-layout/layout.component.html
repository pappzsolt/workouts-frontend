<div class="flex flex-col min-h-screen">

  <!-- Fejléc -->
  <header class="bg-blue-600 text-white p-4 flex flex-col sm:flex-row justify-between items-center">
    <div class="text-lg font-bold">Dashboard</div>
    <div class="flex flex-col sm:flex-row items-center gap-2 mt-2 sm:mt-0">
      <span *ngIf="username">Felhasználó: {{ username }}</span>
      <span *ngIf="role">Jogosultság: {{ role }}</span>
      <button (click)="onLogout()" class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded mt-1 sm:mt-0">
        Kijelentkezés
      </button>
    </div>
  </header>

  <!-- Menü + tartalom -->
  <div class="flex flex-1 flex-col sm:flex-row">
    <aside class="sm:w-64 bg-gray-100 flex-shrink-0">
      <ng-container *ngIf="isAdmin()">
        <app-dynamic-menu [menuItems]="adminMenuItems" (menuAction)="handleMenuAction($event)"></app-dynamic-menu>
      </ng-container>
      <ng-container *ngIf="isCoach()">
        <app-dynamic-menu [menuItems]="coachMenuItems" (menuAction)="handleMenuAction($event)"></app-dynamic-menu>
      </ng-container>
      <ng-container *ngIf="isUser()">
        <app-dynamic-menu [menuItems]="userMenuItems" (menuAction)="handleMenuAction($event)"></app-dynamic-menu>
      </ng-container>
    </aside>

    <!-- Tartalom -->
    <main class="flex-1 p-4">
      <router-outlet></router-outlet>
    </main>
  </div>

  <!-- Lábléc -->
  <footer class="bg-gray-200 text-gray-700 p-4 text-center mt-auto">
    &copy; {{ currentYear }} Fitness App. Minden jog fenntartva.
  </footer>
</div>
